<form #f="ngForm" (ngSubmit)="onSubmit(f)">
  <!-- #f="ngForm" - variavel referente ao form e diretiva para o form ser usado -->
  <!-- ngSubmit escuta o evento submit do botão e chama o formulario criado no componente -->
  <div class="form-group">
      <label for="nome">Nome</label>
      <input type="text" class="form-control"
      id="nome" placeholder="Nome" name="nome"
      [ngModel]="usuario.nome" required #nome="ngModel"
      [ngClass]="aplicaCSS(nome)">

      <!-- ngModel serve para dizer que aquele input tem uma variavel para ser escutada -->
      <!-- verifica se o input nome focado(tocado) e preenchido -->
      <div *ngIf="!nome.valid && nome.touched" class="invalido">
        O campo nome é obrigatório
      </div>
  </div>

  <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control"
      id="email" placeholder="nome@email.com" name="email"
      [ngModel]="usuario.email" required email #email="ngModel"
      [ngClass]="aplicaCSS(email)">
      <!-- two way [()] data biding atualiza os dois valores, form e usuario no componente -->
      <!-- one way [] atualiza apenas o form -->
      <div *ngIf="!email.valid && email.touched" class="invalido">
        O campo email é obrigatório
      </div>
  </div>

  <div ngModelGroup="endereco">
    <div class="form-group row">
        <div class="col-md-3">
            <label for="cep">CEP</label>
            <input type="text" id="cep" class="form-control"
            name="cep" ngModel required #cep="ngModel"
            [ngClass]="aplicaCSS(cep)"
            (blur)="consultaCEP($event.target.value, f)">
            <!-- verifica se o evento blur(tira o foco do campo) ocorreu e chama a função passando o valor do evento(input cep) -->

            <div *ngIf="!cep.valid && cep.touched" class="invalido">
              CEP é obrigatório
            </div>
        </div>

        <div class="col-md-3">
            <label for="numero">Número</label>
            <input type="text" id="numero" class="form-control"
            name="numero" ngModel required #numero="ngModel"
            [ngClass]="aplicaCSS(numero)">

            <div *ngIf="!numero.valid && numero.touched" class="invalido">
                Número é obrigatório
            </div>
        </div>

        <div class="col-md-6">
            <label for="complemento">Complemento</label>
            <input type="text" id="complemento" class="form-control"
            name="complemento" ngModel #complemento="ngModel">
        </div>
    </div>

    <div class="form-group">
        <label for="rua">Rua</label>
        <input type="text" class="form-control"
        id="rua" name="rua"
        ngModel required #rua="ngModel"
        [ngClass]="aplicaCSS(rua)">

        <!-- ngModel serve para dizer que aquele input tem uma variavel para ser escutada -->
        <!-- verifica se o input rua focado(tocado) e preenchido -->
        <div *ngIf="!rua.valid && rua.touched" class="invalido">
          Rua é obrigatório
        </div>
    </div>

    <div class="form-group row">
        <div class="col-md-5">
          <label for="bairro">Bairro</label>
          <input type="text" id="bairro" class="form-control"
          name="bairro" ngModel required #bairro="ngModel"
          [ngClass]="aplicaCSS(bairro)">

          <div *ngIf="!bairro.valid && bairro.touched" class="invalido">
            Bairro é obrigatório
          </div>
        </div>

        <div class="col-md-4">
          <label for="cidade">Cidade</label>
          <input type="text" id="cidade" class="form-control"
          name="cidade" ngModel required #cidade="ngModel"
          [ngClass]="aplicaCSS(cidade)">

          <div *ngIf="!cidade.valid && cidade.touched" class="invalido">
              Cidade é obrigatório
          </div>
        </div>

        <div class="col-md-3">
          <label for="estado">Estado</label>
          <input type="text" id="estado" class="form-control"
          name="estado" ngModel required #estado="ngModel"
          [ngClass]="aplicaCSS(estado)">

          <div *ngIf="!estado.valid && estado.touched" class="invalido">
              Estado é obrigatório
          </div>
        </div>
    </div>
  </div>
  <button type="submit" class="btn btn-primary"
  [disabled]="!f.valid">Enviar</button>

  <app-form-debug [form]="f"></app-form-debug>
</form>


<!--
    ng-untouched - o campo input ainda não foi focado
    ng-pristine - o campo não foi alterado
    ng-valid - o campo ainda é valido

    ng-touched - o campo foi focado
    ng-dirty - o campo foi alterado
    ng-invalid - o campo está invalido de acordo com a validação
-->
